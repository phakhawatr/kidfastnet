-- Add 15 division word problems for Grade 1 Semester 2 with adjusted numbers
-- Includes problems with and without remainders, results do not exceed 1,000

DO $$
DECLARE
  v_admin_id uuid;
BEGIN
  -- Get or create system admin
  SELECT id INTO v_admin_id FROM admins WHERE email = 'system@admin.com' LIMIT 1;
  
  IF v_admin_id IS NULL THEN
    INSERT INTO admins (email, name, password_hash)
    VALUES ('system@admin.com', 'System Admin', 'system')
    RETURNING id INTO v_admin_id;
  END IF;

  -- Insert 15 division word problems with adjusted numbers
  INSERT INTO question_bank (
    admin_id,
    question_text,
    choices,
    correct_answer,
    difficulty,
    skill_name,
    grade,
    semester,
    assessment_type,
    subject,
    is_system_question,
    explanation,
    visual_elements
  ) VALUES
  -- Problem 1: 18÷3=6 (adjusted from 15÷3=5)
  (
    v_admin_id,
    'มีขนม 18 ชิ้น จัดใส่กล่อง 3 กล่อง กล่องละเท่าๆ กัน จะจัดขนมได้กล่องละกี่ชิ้น',
    '["5 ชิ้น", "6 ชิ้น", "7 ชิ้น", "4 ชิ้น"]'::jsonb,
    '6 ชิ้น',
    'easy',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'มีขนม 18 ชิ้น จัดใส่กล่อง 3 กล่อง กล่องละเท่าๆ กัน ดังนั้น จะจัดขนมได้กล่องละ 18÷3 = 6 ชิ้น',
    '{"symbol_sentence": "18÷3=?"}'::jsonb
  ),
  -- Problem 2: 23÷3=7 เหลือ 2 (adjusted from 20÷3=6 เหลือ 2)
  (
    v_admin_id,
    'แม่มีส้ม 23 ผล จัดใส่จานจานละ 3 ผล จะจัดส้มใส่จานได้กี่ใบและเหลือส้มกี่ผล',
    '["6 ใบ เหลือ 2 ผล", "7 ใบ เหลือ 2 ผล", "8 ใบ เหลือ 1 ผล", "7 ใบ เหลือ 1 ผล"]'::jsonb,
    '7 ใบ เหลือ 2 ผล',
    'medium',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'แม่มีส้ม 23 ผล จัดใส่จานจานละ 3 ผล ดังนั้น จะจัดส้มใส่จานได้ 23÷3 = 7 เหลือ 2 ผล',
    '{"symbol_sentence": "23÷3=?"}'::jsonb
  ),
  -- Problem 3: 27÷9=3 (adjusted from 24÷8=3)
  (
    v_admin_id,
    'ดาวมีลูกอม 27 เม็ด แบ่งให้เพื่อน 9 คน คนละเท่าๆ กัน เพื่อนจะได้ลูกอมจากดาวคนละกี่เม็ด',
    '["2 เม็ด", "3 เม็ด", "4 เม็ด", "5 เม็ด"]'::jsonb,
    '3 เม็ด',
    'easy',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'ดาวมีลูกอม 27 เม็ด แบ่งให้เพื่อน 9 คน คนละเท่าๆ กัน ดังนั้น เพื่อนจะได้ลูกอมจากดาวคนละ 27÷9 = 3 เม็ด',
    '{"symbol_sentence": "27÷9=?"}'::jsonb
  ),
  -- Problem 4: 12÷3=4 (adjusted from 15÷3=5)
  (
    v_admin_id,
    'ไก่มีสมุด 12 เล่ม จัดใส่ชั้น 3 ชั้น ชั้นละเท่าๆ กัน ไก่จะจัดสมุดใส่ชั้นได้ชั้นละกี่เล่ม',
    '["3 เล่ม", "4 เล่ม", "5 เล่ม", "6 เล่ม"]'::jsonb,
    '4 เล่ม',
    'easy',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'ไก่มีสมุด 12 เล่ม จัดใส่ชั้น 3 ชั้น ชั้นละเท่าๆ กัน ดังนั้น ไก่จะจัดสมุดใส่ชั้นได้ชั้นละ 12÷3 = 4 เล่ม',
    '{"symbol_sentence": "12÷3=?"}'::jsonb
  ),
  -- Problem 5: 30÷6=5 (adjusted from 27÷9=3)
  (
    v_admin_id,
    'กระดาษ 30 แผ่น แจกให้นักเรียน 6 กลุ่ม กลุ่มละเท่าๆ กัน จะได้กระดาษกลุ่มละกี่แผ่น',
    '["4 แผ่น", "5 แผ่น", "6 แผ่น", "3 แผ่น"]'::jsonb,
    '5 แผ่น',
    'easy',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'กระดาษ 30 แผ่น แจกให้นักเรียน 6 กลุ่ม กลุ่มละเท่าๆ กัน ดังนั้น จะได้กระดาษกลุ่มละ 30÷6 = 5 แผ่น',
    '{"symbol_sentence": "30÷6=?"}'::jsonb
  ),
  -- Problem 6: 35÷4=8 เหลือ 3 (adjusted from 30÷4=7 เหลือ 2)
  (
    v_admin_id,
    'แม่มีเงิน 35 บาท แบ่งให้ลูก 4 คน คนละเท่าๆ กัน ลูกแต่ละคนจะได้เงินคนละกี่บาท และแม่เหลือเงินกี่บาท',
    '["7 บาท เหลือ 2 บาท", "8 บาท เหลือ 3 บาท", "9 บาท เหลือ 1 บาท", "8 บาท เหลือ 2 บาท"]'::jsonb,
    '8 บาท เหลือ 3 บาท',
    'medium',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'แม่มีเงิน 35 บาท แบ่งให้ลูก 4 คน คนละเท่าๆ กัน ดังนั้น ลูกแต่ละคนจะได้เงินคนละ 35÷4 = 8 เศษ 3 บาท ลูกคนละ 8 บาท และแม่เหลือเงิน 3 บาท',
    '{"symbol_sentence": "35÷4=?"}'::jsonb
  ),
  -- Problem 7: 12÷4=3 (adjusted from 8÷4=2)
  (
    v_admin_id,
    'มีดาว 12 ดวง แบ่งใส่กล่อง 4 กล่อง กล่องละเท่าๆ กัน จะได้ดาวได้กล่องละกี่ดวง',
    '["2 ดวง", "3 ดวง", "4 ดวง", "5 ดวง"]'::jsonb,
    '3 ดวง',
    'easy',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'มีดาว 12 ดวง แบ่งใส่กล่อง 4 กล่อง กล่องละเท่าๆ กัน ดังนั้น จะได้ดาวได้กล่องละ 12÷4 = 3 ดวง',
    '{"symbol_sentence": "12÷4=?"}'::jsonb
  ),
  -- Problem 8: 50÷2=25 (adjusted from 48÷2=24)
  (
    v_admin_id,
    'มีดาว 50 ดวง แต่ละกล่องใส่ดาวกล่องละ 2 ดวง เท่าๆ กัน จะได้กี่กล่อง',
    '["23 กล่อง", "24 กล่อง", "25 กล่อง", "26 กล่อง"]'::jsonb,
    '25 กล่อง',
    'medium',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'มีดาว 50 ดวง แต่ละกล่องใส่ดาวกล่องละ 2 ดวง เท่าๆ กัน ดังนั้น จะได้ 50÷2 = 25 กล่อง',
    '{"symbol_sentence": "50÷2=?"}'::jsonb
  ),
  -- Problem 9: 14÷2=7 (adjusted from 10÷2=5)
  (
    v_admin_id,
    'มีตุ๊กตา 14 ตัว จัดใส่กล่อง 2 กล่อง กล่องละเท่าๆ กัน จะจัดตุ๊กตาได้กล่องละกี่ตัว',
    '["5 ตัว", "6 ตัว", "7 ตัว", "8 ตัว"]'::jsonb,
    '7 ตัว',
    'easy',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'มีตุ๊กตา 14 ตัว จัดใส่กล่อง 2 กล่อง กล่องละเท่าๆ กัน ดังนั้น จะจัดตุ๊กตาได้กล่องละ 14÷2 = 7 ตัว',
    '{"symbol_sentence": "14÷2=?"}'::jsonb
  ),
  -- Problem 10: (12+8)÷5=4 (adjusted from (15+5)÷5=4) - 2 steps
  (
    v_admin_id,
    'แม่ซื้อแตงโมมา 12 ผล และซื้อมาอีก 8 ผล จะจัดใส่ลัง ลังละ 5 ผล เท่าๆ กัน จะได้ทั้งหมดกี่ลัง',
    '["3 ลัง", "4 ลัง", "5 ลัง", "6 ลัง"]'::jsonb,
    '4 ลัง',
    'medium',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'แม่ซื้อแตงโมมา 12 ผล และซื้อมาอีก 8 ผล แสดงว่า แม่มีแตงโม 12+8 = 20 ผล จะจัดใส่ลัง ลังละ 5 ผล เท่าๆ กัน ดังนั้น จะได้ทั้งหมด 20÷5 = 4 ลัง',
    '{"symbol_sentence": "(12+8)÷5=?"}'::jsonb
  ),
  -- Problem 11: (10÷2)+(6÷2)=8 (adjusted from (8÷2)+(4÷2)=6) - 2 steps
  (
    v_admin_id,
    'แม่ซื้อขนมมา 10 ชิ้น แบ่งให้ลูก 2 คน คนละเท่าๆ กัน และพ่อซื้อขนมมาอีก 6 ชิ้น แบ่งให้ลูก 2 คน คนละเท่าๆ กัน ลูกทั้งสองคนจะได้ขนมที่พ่อและแม่ให้รวมกันคนละกี่ชิ้น',
    '["6 ชิ้น", "7 ชิ้น", "8 ชิ้น", "9 ชิ้น"]'::jsonb,
    '8 ชิ้น',
    'medium',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'แม่ซื้อขนมมา 10 ชิ้น แบ่งให้ลูก 2 คน คนละเท่าๆ กัน แสดงว่า แม่แบ่งให้ลูกคนละ 10÷2 = 5 ชิ้น และพ่อซื้อขนมมาอีก 6 ชิ้น แบ่งให้ลูก 2 คน คนละเท่าๆ กัน แสดงว่า พ่อแบ่งให้ลูกคนละ 6÷2 = 3 ชิ้น ดังนั้น ลูกทั้งสองคนจะได้ขนมที่พ่อและแม่ให้รวมกันคนละ 5+3 = 8 ชิ้น',
    '{"symbol_sentence": "(10÷2)+(6÷2)=?"}'::jsonb
  ),
  -- Problem 12: 32÷8=4 (adjusted from 24÷8=3)
  (
    v_admin_id,
    'นักเรียน 32 คน จัดเป็นแถวแถวละ 8 คน เท่าๆ กัน จะจัดได้กี่แถว',
    '["3 แถว", "4 แถว", "5 แถว", "6 แถว"]'::jsonb,
    '4 แถว',
    'easy',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'นักเรียน 32 คน จัดเป็นแถวแถวละ 8 คน เท่าๆ กัน ดังนั้น จะจัดได้ 32÷8 = 4 แถว',
    '{"symbol_sentence": "32÷8=?"}'::jsonb
  ),
  -- Problem 13: 28÷4=7 (adjusted from 20÷4=5)
  (
    v_admin_id,
    'แม่มีเงิน 28 บาท แบ่งให้ลูก 4 คน คนละเท่าๆ กัน ลูกจะได้เงินจากแม่คนละกี่บาท',
    '["5 บาท", "6 บาท", "7 บาท", "8 บาท"]'::jsonb,
    '7 บาท',
    'easy',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'แม่มีเงิน 28 บาท แบ่งให้ลูก 4 คน คนละเท่าๆ กัน ดังนั้น ลูกจะได้เงินจากแม่คนละ 28÷4 = 7 บาท',
    '{"symbol_sentence": "28÷4=?"}'::jsonb
  ),
  -- Problem 14: 38÷7=5 เหลือ 3 (adjusted from 36÷7=5 เหลือ 1)
  (
    v_admin_id,
    'แม่ค้ามีส้ม 38 ผล แบ่งได้ 7 กอง กองละเท่าๆ กัน จะได้ส้มกองละกี่ผลและเหลือส้มกี่ผล',
    '["5 ผล เหลือ 1 ผล", "5 ผล เหลือ 2 ผล", "5 ผล เหลือ 3 ผล", "6 ผล เหลือ 2 ผล"]'::jsonb,
    '5 ผล เหลือ 3 ผล',
    'medium',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'แม่ค้ามีส้ม 38 ผล แบ่งได้ 7 กอง กองละเท่าๆ กัน ดังนั้น จะได้ส้มกองละ 38÷7 = 5 เศษ 3 ผล จะได้ส้มกองละ 5 ผล เหลือส้ม 3 ผล',
    '{"symbol_sentence": "38÷7=?"}'::jsonb
  ),
  -- Problem 15: 45÷5=9 (adjusted from 40÷5=8)
  (
    v_admin_id,
    'นักเรียน 45 คน จัดกลุ่มกลุ่มละ 5 คน เท่าๆ กัน จะแบ่งได้ทั้งหมดกี่กลุ่ม',
    '["7 กลุ่ม", "8 กลุ่ม", "9 กลุ่ม", "10 กลุ่ม"]'::jsonb,
    '9 กลุ่ม',
    'easy',
    'การหาร',
    1,
    2,
    'semester',
    'math',
    true,
    'นักเรียน 45 คน จัดกลุ่มกลุ่มละ 5 คน เท่าๆ กัน ดังนั้น จะแบ่งได้ทั้งหมด 45÷5 = 9 กลุ่ม',
    '{"symbol_sentence": "45÷5=?"}'::jsonb
  );

END $$;